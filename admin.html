<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>لوحة الأدمن</title>
<link rel="stylesheet" href="css/style.css">
</head>
<body>

<header>
  <h2>لوحة تحكم الأدمن</h2>
  <p>الطلبات المرسلة</p>
</header>

<section class="cards" id="requests"></section>

<script>
if(localStorage.getItem("role")!=="admin"){
  alert("دخول مرفوض");
  location.href="index.html";
}

let data = JSON.parse(localStorage.getItem("requests")||"[]");
let box = document.getElementById("requests");

if(data.length===0){
  box.innerHTML="<p style='padding:20px'>لا توجد طلبات</p>";
}

data.forEach((r,i)=>{
  box.innerHTML+=`
    <div class="card">
      <h3>${r.game}</h3>
      <p>${r.desc}</p>
      <button onclick="accept(${i})">قبول</button>
      <button onclick="reject(${i})">رفض</button>
    </div>
  `;
});

function accept(i){
  alert("تم قبول الطلب");
}
function reject(i){
  alert("تم رفض الطلب");
}
</script>

</body>
</html>