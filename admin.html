<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Ù„ÙˆØ­Ø© Ø§Ù„Ø£Ø¯Ù…Ù†</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{
 margin:0;font-family:Arial;
 background:#020617;color:#e5e7eb
}
header{
 padding:15px;
 background:#020617;
 border-bottom:1px solid #1e293b
}
main{padding:20px}
h2{margin-top:0;color:#22d3ee}
.card{
 background:#020617;
 border:1px solid #1e293b;
 border-radius:15px;
 padding:15px;
 margin-bottom:15px
}
.card p{margin:5px 0;font-size:14px}
.btns{margin-top:10px}
button{
 padding:8px 14px;
 border:none;border-radius:10px;
 cursor:pointer;font-weight:bold
}
.accept{background:#22d3ee;color:#020617}
.reject{background:#ef4444;color:#fff;margin-right:10px}
.logout{
 background:#020617;border:1px solid #22d3ee;
 color:#22d3ee;margin-top:20px
}
</style>
</head>
<body>

<header>
<h2>ğŸ›  Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ø£Ø¯Ù…Ù†</h2>
</header>

<main>
<div id="requests"></div>
<button class="logout" onclick="logout()">ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬</button>
</main>

<script>
// Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ø£Ø¯Ù…Ù†
if(localStorage.getItem("currentUser")!=="Younisxho"){
 alert("ØºÙŠØ± Ù…ØµØ±Ø­");
 location.href="index.html";
}

// Ø¬Ù„Ø¨ Ø§Ù„Ø·Ù„Ø¨Ø§Øª
let reqs=JSON.parse(localStorage.getItem("requests")||"[]");
let approved=JSON.parse(localStorage.getItem("approved")||"[]");
let box=document.getElementById("requests");

if(reqs.length===0){
 box.innerHTML="<p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª Ø­Ø§Ù„ÙŠØ§Ù‹</p>";
}

reqs.forEach((r,i)=>{
 let d=document.createElement("div");
 d.className="card";
 d.innerHTML=`
 <p><b>Ø§Ù„Ù„Ø¹Ø¨Ø©:</b> ${r.game}</p>
 <p><b>Ø§Ù„ÙˆØµÙ:</b> ${r.desc}</p>
 <p><b>Ø§Ù„Ø¨Ø§Ø¦Ø¹:</b> ${r.user}</p>
 <div class="btns">
   <button class="accept" onclick="approve(${i})">Ù‚Ø¨ÙˆÙ„</button>
   <button class="reject" onclick="reject(${i})">Ø±ÙØ¶</button>
 </div>
 `;
 box.appendChild(d);
});

function approve(i){
 approved.push(reqs[i]);
 reqs.splice(i,1);
 save();
}

function reject(i){
 reqs.splice(i,1);
 save();
}

function save(){
 localStorage.setItem("requests",JSON.stringify(reqs));
 localStorage.setItem("approved",JSON.stringify(approved));
 location.reload();
}

function logout(){
 localStorage.clear();
 location.href="login.html";
}
</script>

</body>
</html>