<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÙƒÙØªÙ‡ÙˆØ¯ - ÙƒØ§ØªØ¨ Ø§Ù„Ø³ÙƒØ±Ø¨ØªØ§Øª Ø§Ù„Ø°ÙƒÙŠ</title>
    <style>
        /* ØªØµÙ…ÙŠÙ… Ø¨Ø³ÙŠØ· ÙˆØ£Ù†ÙŠÙ‚ Ù„Ù„Ù…ÙˆÙ‚Ø¹ */
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #1a1a1a; color: white; text-align: center; padding: 20px; }
        .container { max-width: 800px; margin: auto; background: #2d2d2d; padding: 30px; border-radius: 15px; box-shadow: 0 0 20px rgba(0,0,0,0.5); }
        h1 { color: #00ffcc; }
        input { width: 80%; padding: 12px; border-radius: 5px; border: none; margin-bottom: 10px; font-size: 16px; }
        button { padding: 12px 25px; background-color: #00ffcc; border: none; border-radius: 5px; cursor: pointer; font-weight: bold; font-size: 16px; }
        button:hover { background-color: #00ccaa; }
        #output { margin-top: 20px; text-align: left; background: #000; padding: 15px; border-radius: 5px; white-space: pre-wrap; color: #00ff00; border: 1px solid #333; min-height: 100px; direction: ltr; }
        .loading { color: #ffcc00; display: none; }
    </style>
</head>
<body>

    <div class="container">
        <h1>Ù…ÙˆÙ‚Ø¹ ÙƒÙØªÙ‡ÙˆØ¯ (Kafthod) ğŸ¤–</h1>
        <p>Ø§ÙƒØªØ¨ Ø§Ø³Ù… Ø§Ù„Ù„Ø¹Ø¨Ø© ÙˆÙ†ÙˆØ¹ Ø§Ù„Ø³ÙƒØ±Ø¨Øª Ø§Ù„Ø°ÙŠ ØªØ±ÙŠØ¯Ù‡ ÙˆØ³Ø£Ù‚ÙˆÙ… Ø¨ØªÙˆÙ„ÙŠØ¯Ù‡ Ù„Ùƒ ÙÙˆØ±Ø§Ù‹!</p>
        
        <input type="text" id="userInput" placeholder="Ù…Ø«Ù„Ø§Ù‹: Ø³ÙƒØ±Ø¨Øª Roblox Ù„Ù„Ù‚ÙØ² Ø§Ù„Ø¹Ø§Ù„ÙŠ...">
        <br>
        <button onclick="generateScript()">ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø³ÙƒØ±Ø¨Øª</button>
        
        <div id="loading" class="loading">Ø¬Ø§Ø±ÙŠ ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø³ÙƒØ±Ø¨Øª... Ø§Ù†ØªØ¸Ø± Ù‚Ù„ÙŠÙ„Ø§Ù‹</div>
        <div id="output">Ø§Ù„Ø³ÙƒØ±Ø¨Øª Ø³ÙŠØ¸Ù‡Ø± Ù‡Ù†Ø§...</div>
    </div>

    <script type="module">
        // Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ù…ÙƒØªØ¨Ø© Google AI
        import { GoogleGenerativeAI } from "https://esm.run/@google/generative-ai";

        // Ù…ÙØªØ§Ø­Ùƒ Ø§Ù„Ø®Ø§Øµ Ø§Ù„Ø°ÙŠ Ø£Ø±Ø³Ù„ØªÙ‡
        const API_KEY = "AIzaSyCMp7fZrKKC-mweC6Qm7_xaIJXpKXq-e9E";
        const genAI = new GoogleGenerativeAI(API_KEY);

        window.generateScript = async function() {
            const promptInput = document.getElementById("userInput").value;
            const outputDiv = document.getElementById("output");
            const loadingDiv = document.getElementById("loading");

            if (!promptInput) {
                alert("ÙŠØ±Ø¬Ù‰ ÙƒØªØ§Ø¨Ø© Ø´ÙŠØ¡ Ø£ÙˆÙ„Ø§Ù‹!");
                return;
            }

            // Ø¥Ø¸Ù‡Ø§Ø± Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„
            loadingDiv.style.display = "block";
            outputDiv.innerText = "";

            try {
                // Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„ (Gemini Flash Ø³Ø±ÙŠØ¹ ÙˆÙ…Ù†Ø§Ø³Ø¨ Ù„Ù„Ø³ÙƒØ±Ø¨ØªØ§Øª)
                const model = genAI.getGenerativeModel({ model: "gemini-1.5-flash" });

                // ØµÙŠØ§ØºØ© Ø§Ù„Ø·Ù„Ø¨ Ù„Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ù„ÙŠØ¹Ø·ÙŠ Ø³ÙƒØ±Ø¨Øª ÙÙ‚Ø·
                const finalPrompt = `Ø£Ù†Øª Ø®Ø¨ÙŠØ± Ø¨Ø±Ù…Ø¬Ø© Ø£Ù„Ø¹Ø§Ø¨. Ù‚Ù… Ø¨ÙƒØªØ§Ø¨Ø© Ø³ÙƒØ±Ø¨Øª Ø¨Ø±Ù…Ø¬ÙŠØ§Ù‹ Ù„Ù€: ${promptInput}. ÙŠØ±Ø¬Ù‰ ØªÙ‚Ø¯ÙŠÙ… Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø¨Ø±Ù…Ø¬ÙŠ ÙÙ‚Ø· Ù…Ø¹ Ø´Ø±Ø­ Ø¨Ø³ÙŠØ· Ø¬Ø¯Ø§Ù‹ Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©.`;

                const result = await model.generateContent(finalPrompt);
                const response = await result.response;
                const text = response.text();

                // Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªÙŠØ¬Ø©
                outputDiv.innerText = text;
            } catch (error) {
                console.error(error);
                outputDiv.innerText = "Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¬Ù„Ø¨ Ø§Ù„Ø³ÙƒØ±Ø¨Øª. ØªØ£ÙƒØ¯ Ù…Ù† Ø§ØªØµØ§Ù„ Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª Ø£Ùˆ ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„Ù…ÙØªØ§Ø­.";
            } finally {
                loadingDiv.style.display = "none";
            }
        }
    </script>
</body>
</html>
