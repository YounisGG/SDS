<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÙƒÙØªÙ‡ÙˆØ¯ - ÙƒØ§ØªØ¨ Ø§Ù„Ø³ÙƒØ±Ø¨ØªØ§Øª Ø§Ù„Ø°ÙƒÙŠ</title>
    <style>
        body { font-family: sans-serif; background-color: #121212; color: white; text-align: center; padding: 20px; }
        .container { max-width: 600px; margin: auto; background: #1e1e1e; padding: 20px; border-radius: 10px; border: 1px solid #333; }
        input { width: 90%; padding: 10px; margin: 10px 0; border-radius: 5px; border: 1px solid #444; background: #252525; color: white; }
        button { padding: 10px 20px; background-color: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer; }
        button:disabled { background-color: #555; }
        #output { margin-top: 20px; text-align: left; background: #000; padding: 15px; border-radius: 5px; white-space: pre-wrap; color: #00ff00; direction: ltr; min-height: 50px; border: 1px solid #444; }
        .error { color: #ff4444; margin-top: 10px; }
    </style>
</head>
<body>

    <div class="container">
        <h1>Ù…ÙˆÙ‚Ø¹ ÙƒÙØªÙ‡ÙˆØ¯ ğŸ¤–</h1>
        <p>Ø§ÙƒØªØ¨ Ø§Ø³Ù… Ø§Ù„Ù„Ø¹Ø¨Ø© ÙˆØ§Ù„Ø³ÙƒØ±Ø¨Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨:</p>
        
        <input type="text" id="userInput" placeholder="Ù…Ø«Ù„Ø§Ù‹: Ø³ÙƒØ±Ø¨Øª Roblox Ù„Ù„Ø³Ø±Ø¹Ø©...">
        <br>
        <button id="btn" onclick="generateScript()">ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø³ÙƒØ±Ø¨Øª</button>
        
        <div id="error" class="error"></div>
        <div id="output">Ø§Ù„Ø³ÙƒØ±Ø¨Øª Ø³ÙŠØ¸Ù‡Ø± Ù‡Ù†Ø§...</div>
    </div>

    <script>
        async function generateScript() {
            const userInput = document.getElementById("userInput").value;
            const outputDiv = document.getElementById("output");
            const errorDiv = document.getElementById("error");
            const btn = document.getElementById("btn");

            if (!userInput) {
                alert("Ø§ÙƒØªØ¨ Ø´ÙŠØ¦Ø§Ù‹ Ø£ÙˆÙ„Ø§Ù‹!");
                return;
            }

            // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø·Ù„Ø¨
            const API_KEY = "AIzaSyCMp7fZrKKC-mweC6Qm7_xaIJXpKXq-e9E"; 
            const url = `https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${API_KEY}`;

            const data = {
                contents: [{
                    parts: [{ text: `Ø£Ù†Øª Ø®Ø¨ÙŠØ± Ø¨Ø±Ù…Ø¬Ø© Ø£Ù„Ø¹Ø§Ø¨ØŒ Ø£Ø¹Ø·Ù†ÙŠ Ø³ÙƒØ±Ø¨Øª Ù„Ù€: ${userInput}. Ø£Ø±ÙŠØ¯ Ø§Ù„ÙƒÙˆØ¯ ÙÙ‚Ø· Ø¨Ø¯ÙˆÙ† Ù…Ù‚Ø¯Ù…Ø§Øª.` }]
                }]
            };

            // Ø¨Ø¯Ø¡ Ø§Ù„ØªØ­Ù…ÙŠÙ„
            btn.disabled = true;
            btn.innerText = "Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªÙˆÙ„ÙŠØ¯...";
            outputDiv.innerText = "Ø§Ù†ØªØ¸Ø± Ù‚Ù„ÙŠÙ„Ø§Ù‹...";
            errorDiv.innerText = "";

            try {
                const response = await fetch(url, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(data)
                });

                const result = await response.json();
                
                if (result.candidates && result.candidates[0].content.parts[0].text) {
                    outputDiv.innerText = result.candidates[0].content.parts[0].text;
                } else {
                    errorDiv.innerText = "ÙØ´Ù„ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ ÙÙŠ Ø§Ù„Ø±Ø¯. ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ù…ÙØªØ§Ø­.";
                }
            } catch (err) {
                errorDiv.innerText = "Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„: " + err.message;
            } finally {
                btn.disabled = false;
                btn.innerText = "ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø³ÙƒØ±Ø¨Øª";
            }
        }
    </script>
</body>
</html>
